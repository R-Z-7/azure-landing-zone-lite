{
  "version": 4,
  "terraform_version": "1.14.4",
  "serial": 6,
  "lineage": "6eb32bb7-6067-c1f1-0ed6-680dd3f31f73",
  "outputs": {
    "platform_rg": {
      "value": "alz-lite-rg-platform",
      "type": "string"
    },
    "policy_assignments": {
      "value": {
        "allowed_locations": "alz-lite-assign-allowed-locations",
        "require_tags": "alz-lite-assign-require-tags"
      },
      "type": [
        "object",
        {
          "allowed_locations": "string",
          "require_tags": "string"
        }
      ]
    },
    "subscription_id": {
      "value": "e869d110-5a25-4a7f-8ca3-54248eb8996f",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_client_config",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "client_id": "04b07795-8ddb-461a-bbee-02f9e1bf7b46",
            "id": "Y2xpZW50Q29uZmlncy9jbGllbnRJZD0wNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDY7b2JqZWN0SWQ9Mjk1NDQ0MmItNzg3ZS00M2E0LTk3MzgtOTUwNWQ0NmU5MjljO3N1YnNjcmlwdGlvbklkPWU4NjlkMTEwLTVhMjUtNGE3Zi04Y2EzLTU0MjQ4ZWI4OTk2Zjt0ZW5hbnRJZD1iYTI1MWM0YS0yMTI2LTQ2MDYtOTVlZi00ODI4Nzk0MzE4ODk=",
            "object_id": "2954442b-787e-43a4-9738-9505d46e929c",
            "subscription_id": "e869d110-5a25-4a7f-8ca3-54248eb8996f",
            "tenant_id": "ba251c4a-2126-4606-95ef-482879431889",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_policy_definition",
      "name": "allowed_locations",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "Restrict resource locations",
            "id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/providers/Microsoft.Authorization/policyDefinitions/alz-lite-allowed-locations",
            "management_group_id": "",
            "metadata": "{\"createdBy\":\"2954442b-787e-43a4-9738-9505d46e929c\",\"createdOn\":\"2026-02-11T13:05:32.838881Z\",\"updatedBy\":null,\"updatedOn\":null}",
            "mode": "All",
            "name": "alz-lite-allowed-locations",
            "parameters": "{\"allowedLocations\":{\"type\":\"Array\",\"defaultValue\":[\"uksouth\",\"ukwest\"],\"metadata\":{\"displayName\":\"Allowed locations\"}}}",
            "policy_rule": "{\"if\":{\"not\":{\"field\":\"location\",\"in\":\"[parameters('allowedLocations')]\"}},\"then\":{\"effect\":\"deny\"}}",
            "policy_type": "Custom",
            "role_definition_ids": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_policy_definition",
      "name": "require_tags",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "Require mandatory tags (Owner, Environment)",
            "id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/providers/Microsoft.Authorization/policyDefinitions/alz-lite-require-tags",
            "management_group_id": "",
            "metadata": "{\"createdBy\":\"2954442b-787e-43a4-9738-9505d46e929c\",\"createdOn\":\"2026-02-11T13:05:32.9273681Z\",\"updatedBy\":null,\"updatedOn\":null}",
            "mode": "Indexed",
            "name": "alz-lite-require-tags",
            "parameters": "{\"tagNames\":{\"type\":\"Array\",\"defaultValue\":[\"Owner\",\"Environment\"],\"metadata\":{\"displayName\":\"Mandatory tag names\"}}}",
            "policy_rule": "{\"if\":{\"anyOf\":[{\"exists\":\"false\",\"field\":\"[concat('tags[', parameters('tagNames')[0], ']')]\"},{\"exists\":\"false\",\"field\":\"[concat('tags[', parameters('tagNames')[1], ']')]\"}]},\"then\":{\"effect\":\"deny\"}}",
            "policy_type": "Custom",
            "role_definition_ids": [],
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "platform",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/resourceGroups/alz-lite-rg-platform",
            "location": "uksouth",
            "managed_by": "",
            "name": "alz-lite-rg-platform",
            "tags": {
              "Environment": "dev",
              "ManagedBy": "Terraform",
              "Owner": "ramees",
              "Project": "Azure-Landing-Zone-Lite"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "identity": {
            "name": "alz-lite-rg-platform",
            "subscription_id": "e869d110-5a25-4a7f-8ca3-54248eb8996f"
          },
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subscription_policy_assignment",
      "name": "allowed_locations",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "Allow only UK South/UK West",
            "enforce": true,
            "id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/providers/Microsoft.Authorization/policyAssignments/alz-lite-assign-allowed-locations",
            "identity": [],
            "location": "",
            "metadata": "{\"createdBy\":\"2954442b-787e-43a4-9738-9505d46e929c\",\"createdOn\":\"2026-02-11T13:07:06.2438771Z\",\"updatedBy\":null,\"updatedOn\":null}",
            "name": "alz-lite-assign-allowed-locations",
            "non_compliance_message": [],
            "not_scopes": null,
            "overrides": [],
            "parameters": "",
            "policy_definition_id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/providers/Microsoft.Authorization/policyDefinitions/alz-lite-allowed-locations",
            "resource_selectors": [],
            "subscription_id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_policy_definition.allowed_locations",
            "data.azurerm_client_config.current"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_subscription_policy_assignment",
      "name": "require_tags",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "description": "",
            "display_name": "Enforce mandatory tags",
            "enforce": true,
            "id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/providers/Microsoft.Authorization/policyAssignments/alz-lite-assign-require-tags",
            "identity": [],
            "location": "",
            "metadata": "{\"createdBy\":\"2954442b-787e-43a4-9738-9505d46e929c\",\"createdOn\":\"2026-02-11T13:07:06.3317322Z\",\"updatedBy\":null,\"updatedOn\":null}",
            "name": "alz-lite-assign-require-tags",
            "non_compliance_message": [],
            "not_scopes": null,
            "overrides": [],
            "parameters": "",
            "policy_definition_id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f/providers/Microsoft.Authorization/policyDefinitions/alz-lite-require-tags",
            "resource_selectors": [],
            "subscription_id": "/subscriptions/e869d110-5a25-4a7f-8ca3-54248eb8996f",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjoxODAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "azurerm_policy_definition.require_tags",
            "data.azurerm_client_config.current"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
